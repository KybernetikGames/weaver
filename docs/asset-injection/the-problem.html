<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="description">
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/weaver/assets/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/weaver/assets/img/favicon.ico" type="image/x-icon">
        <title>Weaver - The Problem</title>
        <link href="/weaver/assets/css/highlight.css" rel="stylesheet">
        <link href="/weaver/assets/css/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="/weaver/assets/css/adminlte/AdminLTE.css" rel="stylesheet">
        <link href="/weaver/assets/css/theme/theme.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,400i,700,700i" rel="stylesheet">
        <link href="/weaver/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/weaver/assets/css/override.css" rel="stylesheet">
        <script src="/weaver/assets/js/jquery-2.2.3.min.js"></script>
        <script src="/weaver/assets/js/bootstrap.min.js"></script>        
        <script src="/weaver/assets/js/app.min.js"></script>         
        <script src="/weaver/assets/js/highlight.pack.js"></script>   
        <script src="/weaver/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/weaver/assets/js/jquery.sticky-kit.min.js"></script>
        <script src="/weaver/assets/js/mermaid.min.js"></script>
        <script src="/weaver/assets/js/svg-pan-zoom.min.js"></script>
        <!--[if lt IE 9]>
        <script src="/weaver/assets/js/html5shiv.min.js"></script>
        <script src="/weaver/assets/js/respond.min.js"></script>
        <![endif]-->  

        
    </head>
    <body class="hold-transition wyam layout-boxed  ">    
        <div class="top-banner"></div>
        <div class="wrapper with-container">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/weaver/" class="logo">
                            <span>Weaver</span>
                </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                                    <li class="active"><a href="/weaver/docs"><img src="/weaver/images/docs.png" height="20" style="position:relative; left:-5px; top:-1px;"> Docs</a></li>
        <li><a href="/weaver/api"><img src="/weaver/images/api.png" height="20" style="position:relative; left:-3px; top:-1px;"> API v6.2</a></li>
        <li><a href="https://forum.unity.com/threads/592459"><img src="/weaver/images/forum.png" height="20" style="position:relative; left:-4px; top:-1px;"> Forum</a></li>
        <li><a href="mailto:mail@kybernetik.com.au?subject=Weaver"><img src="/weaver/images/contact.png" height="20" style="position:relative; left:-4px; top:-1px;"> Contact</a></li>
        <li><a href="/weaver/lite"><img src="/weaver/images/unity-logo.png" height="20" style="position:relative; left:-4px; top:-1px;"> Try</a></li>
        <li><a href="/weaver/pro"><img src="/weaver/images/unity-logo.png" height="20" style="position:relative; left:-4px; top:-1px;"> Buy</a></li>
        <li><a href="https://kybernetik.com.au"><img src="/weaver/images/kybernetik.png" height="20" style="position:relative; left:-2px; top:-1px;"> Other Assets</a></li>
 
                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="infobar" data-spy="affix" data-offset-top="60" data-offset-bottom="200"> 
                    	
    <div id="infobar-headings"><h6>On This Page</h6><p><a href="#create-itself">Create Itself</a></p>
<p><a href="#in-scene">In Scene</a></p>
<p><a href="#first-scene">First Scene</a></p>
<p><a href="#load-resource">Load Resource</a></p>
<p><a href="#find-resource">Find Resource</a></p>
<p><a href="#asset-injection">Asset Injection</a></p>
<hr class="infobar-hidden">
</div>

                </section>
                <section class="sidebar">    
                                     
                    

                    <ul class="sidebar-menu">
                        

                <li><a href="/weaver/docs/introduction">Introduction</a></li>
                <li><a href="/weaver/docs/weaver-window">Weaver Window</a></li>
                <li class="treeview">
                    <a href="/weaver/docs/examples">Examples</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/weaver/docs/examples/frame-rate">01 Frame Rate</a></li>
                <li><a href="/weaver/docs/examples/floating-text">02 Floating Text</a></li>
                <li><a href="/weaver/docs/examples/building">03 Building</a></li>
                <li><a href="/weaver/docs/examples/missiles">04 Missiles</a></li>
                <li><a href="/weaver/docs/examples/missile-command">05 Missile Command</a></li>
                <li><a href="/weaver/docs/examples/item-shop">06 Item Shop</a></li>
                <li><a href="/weaver/docs/examples/build-details">Build Details</a></li>

                    </ul>
                </li>
                <li class="treeview active">
                    <a href="/weaver/docs/asset-injection">Asset Injection</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="selected"><a href="/weaver/docs/asset-injection/the-problem">The Problem</a></li>
                <li><a href="/weaver/docs/asset-injection/using-asset-injection">Using Asset Injection</a></li>
                <li><a href="/weaver/docs/asset-injection/injection-attribute-types">Injection Attribute Types</a></li>
                <li><a href="/weaver/docs/asset-injection/asset-naming">Asset Naming</a></li>
                <li><a href="/weaver/docs/asset-injection/read-only-fields">Read-Only Fields</a></li>
                <li><a href="/weaver/docs/asset-injection/pref-injection">Pref Injection</a></li>
                <li><a href="/weaver/docs/asset-injection/runtime-injection">Runtime Injection</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/weaver/docs/asset-lists">Asset Lists</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/weaver/docs/asset-lists/creating-a-list">Creating a List</a></li>
                <li><a href="/weaver/docs/asset-lists/lazy-asset-lists">Lazy Asset Lists</a></li>
                <li><a href="/weaver/docs/asset-lists/procedural-asset-lists">Procedural Asset Lists</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/weaver/docs/project-constants">Project Constants</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/weaver/docs/project-constants/animations">Animations</a></li>
                <li><a href="/weaver/docs/project-constants/layers">Layers</a></li>
                <li><a href="/weaver/docs/project-constants/navigation-areas">Navigation Areas</a></li>
                <li><a href="/weaver/docs/project-constants/scenes">Scenes</a></li>
                <li><a href="/weaver/docs/project-constants/shaders">Shaders</a></li>
                <li><a href="/weaver/docs/project-constants/tags">Tags</a></li>
                <li><a href="/weaver/docs/project-constants/obsolete-members">Obsolete Members</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/weaver/docs/procedural-assets">Procedural Assets</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/weaver/docs/procedural-assets/defining-a-procedural-asset">Defining a Procedural Asset</a></li>
                <li><a href="/weaver/docs/procedural-assets/generating-a-procedural-asset">Generating a Procedural Asset</a></li>
                <li><a href="/weaver/docs/procedural-assets/asset-generators">Asset Generators</a></li>
                <li><a href="/weaver/docs/procedural-assets/procedural-meshes">Procedural Meshes</a></li>
                <li><a href="/weaver/docs/procedural-assets/procedural-scripts">Procedural Scripts</a></li>
                <li><a href="/weaver/docs/procedural-assets/dependencies">Dependencies</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/weaver/docs/misc">Miscellaneous</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/weaver/docs/misc/object-pooling">Object Pooling</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/weaver/docs/changes">Change Log</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/weaver/docs/changes/weaver-v6-2">Weaver v6.2</a></li>
                <li><a href="/weaver/docs/changes/weaver-v6-1">Weaver v6.1</a></li>
                <li><a href="/weaver/docs/changes/weaver-v6-0">Weaver v6.0</a></li>
                <li><a href="/weaver/docs/changes/weaver-v5-1">Weaver v5.1</a></li>
                <li><a href="/weaver/docs/changes/weaver-v5-0">Weaver v5.0</a></li>
                <li><a href="/weaver/docs/changes/weaver-v4-1">Weaver v4.1</a></li>
                <li><a href="/weaver/docs/changes/weaver-v4-0">Weaver v4.0</a></li>
                <li><a href="/weaver/docs/changes/weaver-v3-0">Weaver v3.0</a></li>
                <li><a href="/weaver/docs/changes/weaver-v2-0">Weaver v2.0</a></li>
                <li><a href="/weaver/docs/changes/weaver-v1-1">Weaver v1.1</a></li>
                <li><a href="/weaver/docs/changes/weaver-v1-0">Weaver v1.0</a></li>
                <li><a href="/weaver/docs/changes/procedural-asset-framework-v2-0">Procedural Asset Framework v2.0</a></li>
                <li><a href="/weaver/docs/changes/procedural-asset-framework-v1-0">Procedural Asset Framework v1.0</a></li>

                    </ul>
                </li>

                    </ul>
                            
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                



		<section class="content-header">
			<h1>The Problem</h1>
		</section>
	<section class="content">
		<p>Unity's system for managing different areas of your game as separate scenes is very powerful for things that are naturally part of a scene, but is poorly suited to making systems that are shared by multiple scenes. For example, a <a href="../examples/frame-rate">Frame Rate Counter</a> is something that should not be tied to any particular scene or camera prefab, it should just show on screen at any point in the application and operate entirely on its own.</p>
<p>There are several traditional methods for setting up such systems, each of which has its own advantages and disadvantages outlined below, followed by Weaver's <a href="#asset-injection">Asset Injection</a> system which avoids those drawbacks.</p>
<h1 id="create-itself">Create Itself</h1>
<p>The script creates an instance of itself - either on startup using a <code>[RuntimeInitializeOnLoad]</code> method or whenever it first gets accessed. For a <code>MonoBehaviour</code> system this might be as simple as <code>new GameObject().AddComponent&lt;MyScript&gt;();</code>.</p>
<p>Advantages:</p>
<ul>
<li>Very self-contained. The script doesn't depend on any other files to work.</li>
<li>Procedural generation <strong>can</strong> be much more effective than setting things up using the Unity Editor GUI.</li>
</ul>
<p>Disadvantages:</p>
<ul>
<li>Hard coded so it's less reusable. For the <a href="../examples/frame-rate">Frame Rate Counter example</a>, this would mean you need to change the script if you want to move it to a different area of the screen to better fit in with your other GUI elements or want to change its appearance.</li>
<li>Configuring complex systems is often much harder with code than with the Unity Editor GUI.</li>
<li>Can't reference assets such as textures or sounds without using one of the other approaches.</li>
<li>Modification is tedious because you have to wait for the code to recompile every time you want to see a change. Most likely this means that you won't be able to make changes while in play mode either.</li>
</ul>
<h1 id="in-scene">In Scene</h1>
<p>Put the script on an object in every scene and destroy each new one after the first so there is only ever one instance.</p>
<p>Advantages:</p>
<ul>
<li>Easy to setup.</li>
<li>Avoids the disadvantages described above.</li>
</ul>
<p>Disadvantages:</p>
<ul>
<li>Easy to make mistakes during the setup or while refactoring, even if you make it a prefab.</li>
<li>Not clear from looking at the scene that this script is a global system that will be shared.</li>
<li>Wastes some performance loading and destroying useless objects.</li>
</ul>
<h1 id="first-scene">First Scene</h1>
<p>Put the script on an object in the start scene only (the first scene in the Build Settings).</p>
<p>Advantages:</p>
<ul>
<li>Efficient in runtime builds.</li>
<li>Avoids the disadvantages described above.</li>
</ul>
<p>Disadvantages:</p>
<ul>
<li>Extremely inconvenient for development as you need to play the game from the start scene every time.</li>
</ul>
<h1 id="load-resource">Load Resource</h1>
<p>Put the script on a prefab and use <code>Resources.Load</code> to load and instantiate it at runtime (or do something similar with asset bundles).</p>
<p>Advantages:</p>
<ul>
<li>Logical organisation. It's a globally accessible asset, not an object specific to a particular scene.</li>
<li>Avoids the disadvantages described above.</li>
</ul>
<p>Disadvantages:</p>
<ul>
<li>The script is dependent on the prefab being at exactly the specified path, but from looking at that path in the Project window you don't see any indication that it must not be moved. This means that refactoring or reorganising your project involves blindly guessing which parts are safe to move or delete and which are needed by scripts (and where those scripts are).</li>
<li>The prefab must be in a <code>Resources</code> folder. This limits your ability to neatly organise your project and will always include the prefab in builds, even if the script that used it is no longer present.</li>
</ul>
<h1 id="find-resource">Find Resource</h1>
<p>Put the script on a prefab and use <code>Resources.FindObjectsOfTypeAll</code> to find and instantiate it at runtime (or do something similar with asset bundles).</p>
<p>Advantages:</p>
<ul>
<li>Logical organisation. It's a globally accessible system, not an object specific to a particular scene.</li>
<li>Avoids the disadvantages described above (except the prefab must still be in a <code>Resources</code> folder).</li>
</ul>
<p>Disadvantages:</p>
<ul>
<li>If there are multiple prefabs in the project with the correct component type you can't predict which one it will use and it might change without warning between the editor and a runtime build, or between editor sessions, or between builds.
<ul>
<li>This means you can't make a backup copy of the prefab while testing a modified version.</li>
<li>You don't even get a clear indication of which one it's using.</li>
<li>This approach wouldn't work for the <a href="../examples/floating-text">Floating Text</a> example since it needs to reference multiple different prefabs which all have the same <code><a href="/weaver/api/Weaver.Examples/FloatingText">FloatingText</a></code> component (each damage type has a different appearance, status effect messages look different again, etc.).</li>
</ul>
</li>
<li>Looking at the prefab in the Project window still gives you no indication of what it is used for (if anything).</li>
<li>The prefab must be in a <code>Resources</code> folder. Same as above.</li>
<li>Inefficient performance. Though this is generally insignificant and can be done on startup so it won't affect gameplay.</li>
</ul>
<h1 id="asset-injection">Asset Injection</h1>
<p>Place one of Weaver's <a href="injection-attribute-types">Asset Injection Attributes</a> on a <code>static</code> field or property then use the <a href="using-asset-injection#injectors-panel">Injectors Panel</a> to choose an asset for it. With that done, Weaver will automatically assign that asset to the attributed member when entering play mode as well as on startup in runtime builds. This is very similar to having a regular serialized instance field that shows up in the inspector.</p>
<p>Advantages:</p>
<ul>
<li>Avoids the disadvantages described above.</li>
<li>Very efficient in terms of setup time, refactoring flexibility, and runtime performance.</li>
<li>Can find the target asset automatically by name and also allows manual assignment.</li>
<li>Displays additional icons in the Project window with tooltips to indicate which assets are linked to what code.</li>
<li>Logs a warning immediately when entering play mode or compiling a build if something hasn't been assigned.</li>
<li>Your script is not at all dependant on the asset being at a specific path or even in a <code>Resources</code> folder so you can freely reorganise your project.</li>
<li>Not limited to only one reference of each type. For example, the Project Window icon textures that Weaver uses are all referenced using this feature.</li>
<li>Can be used on <code>readonly</code> fields.</li>
</ul>
<p>Disadvantages:</p>
<ul>
<li>Requires Weaver, which is an extra dependency your code requires to work properly.</li>
<li><a href="/weaver/pro"><strong>Pro Only</strong></a>: Weaver Lite allows you to try out this feature in the Unity Editor, but it will not be available in a runtime build unless you purchase Weaver Pro.</li>
<li>Everything is locked in at build time.</li>
</ul>
<p>This system was inspired by the <a href="http://docs.godotengine.org/en/3.0/getting_started/step_by_step/singletons_autoload.html">Auto Load</a> feature of the Godot engine.</p>

	</section>
                
            </div>           
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer">
                Generated by <a href="https://wyam.io">Wyam</a>
            </footer>
        </div>
        <a href="javascript:" id="return-to-top"><i class="fa fa-chevron-up"></i></a>
        
        <script>           
            // Close the sidebar if we select an anchor link
            $(".main-sidebar a[href^='#']:not('.expand')").click(function(){
                $(document.body).removeClass('sidebar-open');
            });
            
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
                
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });  
            });

            hljs.initHighlightingOnLoad();

            // Back to top
            $(window).scroll(function() {
                if ($(this).scrollTop() >= 200) {        // If page is scrolled more than 50px
                    $('#return-to-top').fadeIn(1000);    // Fade in the arrow
                } else {
                    $('#return-to-top').fadeOut(1000);   // Else fade out the arrow
                }
            });
            $('#return-to-top').click(function() {      // When arrow is clicked
                $('body,html').animate({
                    scrollTop : 0                       // Scroll to top of body
                }, 500);
            });
        </script>
    
</body></html>